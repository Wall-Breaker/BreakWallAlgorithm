class Solution {

    //ã€labuladongå†™æ³•ã€‘
    // // æ³¨æ„ï¼šjava ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ cpp ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
    // // æœ¬ä»£ç è¿˜æœªç»è¿‡åŠ›æ‰£æµ‹è¯•ï¼Œä»…ä¾›å‚è€ƒï¼Œå¦‚æœ‰ç–‘æƒ‘ï¼Œå¯ä»¥å‚ç…§æˆ‘å†™çš„ cpp ä»£ç å¯¹æ¯”æŸ¥çœ‹ã€‚

    // public boolean checkInclusion(String t, String s) {
    //     HashMap<Character, Integer> need = new HashMap<>();
    //     HashMap<Character, Integer> window = new HashMap<>();
    //     for (int i = 0; i < t.length(); i++) {
    //         char c = t.charAt(i);
    //         need.put(c, need.getOrDefault(c, 0) + 1);
    //     }

    //     int left = 0, right = 0;
    //     int valid = 0;
    //     while (right < s.length()) {
    //         char c = s.charAt(right);
    //         right++;
    //         if (need.containsKey(c)) {
    //             window.put(c, window.getOrDefault(c, 0) + 1);
    //             if (window.get(c).equals(need.get(c)))
    //                 valid++;
    //         }

    //         // åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
    //         while (right - left >= t.length()) {
    //             // åœ¨è¿™é‡Œåˆ¤æ–­æ˜¯å¦æ‰¾åˆ°äº†åˆæ³•çš„å­ä¸²
    //             if (valid == need.size())
    //                 return true;
    //             char d = s.charAt(left);
    //             left++;
    //             if (need.containsKey(d)) {
    //                 if (window.get(d).equals(need.get(d)))
    //                     valid--;
    //                 window.put(d, window.getOrDefault(d, 0) - 1);
    //             }
    //         }
    //     }
    //     // æœªæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„å­ä¸²
    //     return false;
    // }

    //ã€æˆ‘çš„å†™æ³•ã€‘
    public boolean checkInclusion(String t, String s) {
        HashMap<Character, Integer> need = new HashMap<>();
        HashMap<Character, Integer> window = new HashMap<>();
        for (int i = 0; i < t.length(); i++) {
            char c = t.charAt(i);
            need.put(c, need.getOrDefault(c, 0) + 1);
        }

        int left = 0, right = 0;
        int valid = 0;
        while (right < s.length()) {
            char c = s.charAt(right);
            if (need.containsKey(c)) {
                window.put(c, window.getOrDefault(c, 0) + 1);
                if (window.get(c).equals(need.get(c)))
                    valid++;
            }

            // åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
            while (right - left + 1 == t.length()) {
                // åœ¨è¿™é‡Œåˆ¤æ–­æ˜¯å¦æ‰¾åˆ°äº†åˆæ³•çš„å­ä¸²
                if (valid == need.size())
                    return true;
                char d = s.charAt(left);
                left++;
                if (need.containsKey(d)) {
                    if (window.get(d).equals(need.get(d)))
                        valid--;
                    window.put(d, window.getOrDefault(d, 0) - 1);
                }
            }
            right++;

        }
        // æœªæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„å­ä¸²
        return false;
    }

}